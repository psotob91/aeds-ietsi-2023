---
title: "extra"
editor: visual
---


# Análisis Exploratorio de Datos versus Análisis Inicial de Datos 


## 

\ \ 

[El análisis inicial de datos y el análisis exploratorio de datos son dos cosas diferentes!!]{.big-text4}

## Análisis Exploratorio de Datos
<hr>

:::: {.columns}

::: {.column width='49%'}

[Análisis Exploratorio de Datos]{.verde-h3}

-   El AED es un enfoque de análisis de conjunto de datos para identificar patrones y formular nuevas hipótesis.

-   Se trata de ver qué nos dice los datos más allá de ideas pre-concebidas.

-   Las nuevas hipótesis luego se confirman en otros nuevos estudios rigurosos.

-   Su versión moderna: Minería de Datos (*Data Minning*) 

:::

::: {.column width='2%'}

::: 

::: {.column width='49%'}

[Análisis Inicial de Datos]{.verde-h3}

-   El AID, a menudo, se confunde erróneamente con el AED: 

    + Ambos son dos enfoques totalmente diferentes que comparten herramietnas comunes.

-   Objetivo del AID:

> *"(...) garantizar principalmente la transparencia y la integridad de las condiciones previas para realizar análisis estadísticos apropiados de manera responsable para responder preguntas de investigación predefinidas."* <br>*Baillie M, et al. [PLoS Comput Biol, 2022]\(https://doi.org/10.1371/journal.pcbi.1009819)*

:::

::::


## Análisis Inicial de Datos vs. Análisis Exploratorio de Datos
<hr>

\

```{r}
#| echo: false
aed_aid <- data.frame(
  AID = c("1. AID es el paso inicial del proceso de confirmación de hipótesis pre-definidas.", "2. En investigación clínico-epidemiológica, a menudo queremos y deberíamos hacer AID.", "3. Proceso clave para garantizar responder adecuadamente objetivos pre-planeados de estudio."), 
  AED = c("1. AED busca generar hipótesis nuevas.", "2. Rara vez queremos AED (p. ej., enfermedades nuevas, fenómenos muy poco conocidos)", "3. Proceso con alto riesgo de contaminar respuesta a objetivos pre-planeados de estudio.")
)

aed_aid %>% 
  kbl(booktabs = T) %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),
                full_width = T)
```

## Mala práctica: ¡Hacer AED en vez de AID!
<hr>

\

-   A menudo, investigadores no realizan AID de manera sistemática.

-   Mezclan actividades de AID con tareas posteriores de análisis de datos, como generación o exploración de hipótesis, análisis formal e interpretación de conclusiones.

-   Como se hacen "informalmente", no se reportan en detalle generándose análisis ocultos.

-   Estos análisis ocultos generan problemas en la reproducibilidad de los estudios.

-   Generan muchos grados de libertad adicionales ocasionando problemas serios de validez de los análisis: *p-hacking*, *post-selection inference*, *double-dipping*, *overfitting*, *etc*.

-   Iniciativa STRATOS ha dado pautas para realizar AID apropiados.

::: aside
<FONT size='4'>[*BMC Med Res Methodol 20, 61 (2020)*](https://bmcmedresmethodol.biomedcentral.com/articles/10.1186/s12874-020-00942-y)</FONT>
:::

## El problema de los análisis ocultos
<hr>

![<FONT size='4'>[*BMC Med Res Methodol 20, 61 (2020)*](https://bmcmedresmethodol.biomedcentral.com/articles/10.1186/s12874-020-00942-y)</FONT>](img/hidden.png)

## Recomendaciones de STRATOS para hacer un buen AID
<hr>

![<FONT size='4'>[*PLoS Comput Biol 18(2): e1009819*](https://doi.org/10.1371/journal.pcbi.1009819)</FONT>](img/TenRules.png)

## AID es un proceso iterativo
<hr>

\

-   Proceso no lineal, al contrario, requiere muchas iteraciones.

-   Riesgo: Puede influir en análisis e inducir conclusiones erróneas.

    -   Mayor riesgo de restultados falsos positivos. 

-   Ser cuidados para: 

    -   Evitar alterar la pregunta de investigación. 
    -   Proveer documentación completa del proceso. 

## AID como parte del plan de investigación
<hr>

![<FONT size='4'>[*Introducing the Initial Data Analysis Topic Group (TG3)*](https://www.stratos-initiative.org/sites/default/files/2021-11/STRATOS-TG3-BB-initial-data-analysis.pdf)</FONT>](img/AID_plan.png)

## AID como parte del plan de investigación

![<FONT size='4'>[*Huebner M, Vach W, et al.*](https://www.jtcvs.org/action/showPdf?pii=S0022-5223%2815%2901794-8)</FONT>](img/AID_plan2.png)

## 10 recomendaciones de STRATOS para un buen AID {auto-animate=true}
<hr>

-   **Regla 1**: Desarrolle un plan de AID que respalde el objetivo de la investigación.

-   **Regla 2**: AID toma tiempo y recursos.

-   **Regla 3**: AID debe ser reproducible.

-   **Regla 4**: El contexto importa, conoce tus datos.

-   **Regla 5**: Evite los adelantos, AID no toca la pregunta de investigación.

-   **Regla 6**: Visualiza tus datos.

-   **Regla 7**: Compruebe lo que falte.

-   **Regla 8**: Comunicar los hallazgos y considerar las consecuencias.

-   **Regla 9**: Reporte los hallazgos del AID en trabajos de investigación (¡adjunte anexos!)

-   **Regla 10**: Sea proactivo y riguroso.

## 10 recomendaciones de STRATOS para un buen AID {auto-animate=true}
<hr>

-   **Regla 1**: Desarrolle un plan de AID que respalde el objetivo de la investigación [→]{.ros} *[¡Escríbalo en el proyecto o anexe un plan de análisis estadístico detallado!]{.verde-h3}*

-   **Regla 2**: AID toma tiempo y recursos.[→]{.ros} *[Presupueste RRHH y tiempo razonable]{.verde-h3}*

-   **Regla 3**: AID debe ser reproducible.[→]{.ros} *[Use programas que generen código]{.verde-h3}*

-   **Regla 4**: El contexto importa, conoce tus datos.[→]{.ros} *[{dplyr} en R]{.verde-h3}*

-   **Regla 5**: Evite los adelantos, AID no toca la pregunta de investigación.[→]{.ros} *[¡No haga 'análisis perliminar` sin antes inspeccionar y limpiar bien lso datos!]{.verde-h3}*

-   **Regla 6**: Visualiza tus datos.[→]{.ros} *[{ggplot2} en R]{.verde-h3}*

-   **Regla 7**: Compruebe lo que falte.[→]{.ros} *[{tidyverse} para queries en R]{.verde-h3}*

-   **Regla 8**: Comunicar los hallazgos y considerar las consecuencias.[→]{.ros} *[Quarto para programación literaria en R]{.verde-h3}*

-   **Regla 9**: Reporte los hallazgos del AID en trabajos de investigación (¡adjunte anexos!).[→]{.ros} *[Ídem]{.verde-h3}*

-   **Regla 10**: Sea proactivo y riguroso.[→]{.ros} *[¡Los datos son como sus pacientes, use las mejores técnicas y herramientas disponibles!]{.verde-h3}*

## Regla 4: El contexto importa, conoce tus datos {.scrollable}
<hr>

\

-   Dé una primera mirada global a los datos
-   Diseñe una lista de validaciones a realizar desde el proyecto.
-   Valida tus datos: 
    -   Identifique duplicados y detecte inconsistencias 
    -   Valores extremos no plausibles 
    -   Identifique valores perdidos 
    
-   En R, use los  verbos básicos de {dplyr} para hacer consultas ("queries") a sus datos: `filter()`, `select()`, `mutate()`, `arrange()` y `summarise()`.

```{r}
#| include: false
datos_org <- import("maca_meno_perclin.xlsx")
datos <- rbind(datos_org, datos_org[c(1, 5, 9), ]) %>% 
  set_variable_labels(
    id_jaula = "ID de jaula",
    id_raton = "ID de ratón", 
    tratamiento = "Tratamiento asignado", 
    protocolo = "Tipo de protocolo de modelo animal", 
    peso_inicial = "Peso inicial", 
    peso_final = "Peso final", 
    peso_utero = "Peso uterino", 
    chol = "Colesterol", 
    glucose = "Glucosa", 
    tag = "Triglicéridos", 
    prot = "Proteína", 
    urea = "Urea", 
    album = "Albuminemia"
  )
```

# Pasos para un buen AID / AED 

## {.scrollable}

> **Paso 1:** Resumen global de los datos


::: panel-tabset

### ¿Qué debo inspeccionar de manera global?

- Dimensiones: columnas y filas

- Variables y tipos

- Datos completos y faltantes

- Variables numéricas: Mínimos, máximos y valores extremos

- Variables categóricas: Valores o categorías muy poco frecuentes y datos perdidos encubiertos

### glimpse()

- Heche un vistazo de los datos con [glimpse()]{.plo}:

```{r}
glimpse(datos)
```

### skim()

- La función [skim()]{.plo} del paquete [skim]r]{.plo} genera un resumen global de los datos:

```{r}
skim(datos)
```

### describe()

- La función [describe()]{.plo} del paquete [Hmisc]{.plo} genera un reporte general bien detallado, variable por variable:

```{r}
describe(datos)
```
:::


## `r fontawesome::fa("laptop-code", "white")` Nuestro turno {background-color="#000000"}
<hr>

\

- Descargue la carpeta denominada [taller03]{.verde-h3} disponible en la carpeta compartida.

- Abra el proyecto denominado [taller03.Rproj]{.verde-h3}

- Complete y ejecute el código faltante en los chunk de código de la CUARTA PARTE.

- Una vez culmine todo el proceso, renderice el archivo .qmd.

\
\
\  

```{r}
#| echo: false
library(countdown)
countdown_timer <- function(
    minutes = 1, 
    play_sound = TRUE, 
    font_size = "2em", 
    ...
) {
  countdown(
    minutes = minutes,
    # Fanfare when it's over
    play_sound = play_sound,
    # Set timer theme to match solarized colors
    color_border              = "#404041",
    color_text                = "white",
    color_background = "#000000",
    color_running_background  = "#72994E",
    color_running_text        = "white",
    color_finished_background = "#EE6331",
    color_finished_text       = "white",
    font_size = font_size,
    ...
  )
}
```

```{R}
#| echo: false
countdown_timer(10)
```
